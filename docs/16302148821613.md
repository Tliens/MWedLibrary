# 项目经验

## 今日计划
### 1、难点
### 2、遇到的难题
### 3、

## 今日水印相机：

## Playhouse：
### 1、网络优化
1、请求前：冷却、优先级、取消、网络检查
2、请求中：IP直连、HTTP DNS、keep-alive
3、请求后：缓存、重试、统一错误处理

注意事项：
- 接口冷却，容易发生交互问题，谨慎使用
- 缓存，切换用户记得清除，并不是所有的接口缓存需要，要根据场景来区分

具体实现：使用OperationQueue来管理，每一次请求是一次Operation，优点是可以方便控制最大并发数量，缓存通过缓存json处理，可以指定缓存ID、以及是否自动缓存，获取时，优先获取缓存的json

### 2、疑难杂症
Int(arc4random()) 在32位处理器上会崩溃。

因为arc4random() 返回的是UInt32类型的值 在32位处理器上强转Int，会导致崩溃。

## 电影神灯