# Funlink工作日志
## 1.8.10
### 1、语音波形
录制支持波形展示、修改第三方框架SoundWave达到目的。

语音播放使用的是代理分发，效果不好，主要存在以下问题，代理的分发、引用、重复添加、移除。

当前解决的方案是，有一个中间类，类中弱引用代理，达到不强引用的目的。

中间类中包括一个唯一id，由外界传入，可以用此控制重复添加的问题

中间类是一个数组，用于解决分发问题。

## 1.8.11
### 1、对1.8.10的改进
采用通知的办法，外界自己处理添加监听或者取消监听。

### 2、新增语音类型信息
自定义语音消息。

### 3、仿照WhatApp进行语音交互

### 4、接口重复请求排查

## 1.8.13
### 1、接入firebase push
### 2、新增语音发送功能
### 3、首页改版
### 4、修复IM同步头像、昵称问题
### 5、修改接口的默认冷却期问题

## 1.8.14
### 1、声音和in app bar
### 2、支持发送闪照

## 2.0

9.17 实现方案、接口约定
1、屏蔽群组消息 走IM的屏蔽
2、进群、退群、被踢 服务端发送自定义消息

9.18 UI
0、讨论组创建、提示弹窗
1、顶部成员列表
2、所有成员列表
3、更多
4、说明弹窗

9.22 UI
0、会话页面（顶部导航栏、消息会话）
1、分享界面
2、个人头像悬浮界面
3、倒计时
4、snapchat 分享图生成

9.23 语音处理
1、倒计时
2、输入框
3、个人头像悬浮界面交互
4、加入房间获取其他互斥功能页处理

9.24 群相关UI和交互
1、组群状态（被解散、被关闭、被踢）
2、自定义消息（加入、退出、固定提示）
3、删除群、屏蔽群

9.25-26 其他交互处理
1、加入、退出交互处理
2、房间成员变化
3、音波变化
4、与语音房兼容
5、最小化逻辑

let face_index = Int(arc4random()%UInt32(model.face.count))
[SK]修改32位处理器机型的崩溃







